# -*- coding: utf-8 -*-

nutrient_content_per_100g = {
'牛奶': {'蛋白质': 3.3, '脂肪': 3.6, '碳水化合物': 4.9}, 
 '酸奶': {'蛋白质': 3.2, '脂肪': 1.9, '碳水化合物': 10.0}, 
 '黄豆': {'蛋白质': 35.0, '脂肪': 16.0, '碳水化合物': 34.2}, 
 '稻米': {'蛋白质': 7.9, '脂肪': 0.9, '碳水化合物': 77.2}, 
 '小米': {'蛋白质': 9.0, '脂肪': 3.1, '碳水化合物': 75.1}, 
 '小麦粉': {'蛋白质': 12.4, '脂肪': 1.7, '碳水化合物': 74.1}, 
 '豆油': {'蛋白质': 0.0, '脂肪': 99.9, '碳水化合物': 0.0}, 
 '鸡蛋': {'蛋白质': 13.1, '脂肪': 8.6, '碳水化合物': 2.4}, '地瓜': {'蛋白质': 0.7, '脂肪': 0.2, '碳水化合物': 15.3}, '南瓜': {'蛋白质': 0.7, '脂肪': 0.1, '碳水化合物': 5.3}, '猪肉瘦': {'蛋白质': 20.7, '脂肪': 30.1, '碳水化合物': 0.0}, '鸡肉': {'蛋白质': 24.6, '脂肪': 1.9, '碳水化合物': 0.6}, '油菜': {'蛋白质': 1.3, '脂肪': 0.5, '碳水化合物': 2.0},  '猪肉': {'蛋白质': 119.0, '脂肪': 11.7, '碳水化合物': 0.2}, '白菜': {'蛋白质': 1.6, '脂肪': 0.2, '碳水化合物': 3.4}, '牛肉': {'蛋白质': 22.2, '脂肪': 0.9, '碳水化合物': 2.4}, '胡萝卜': {'蛋白质': 1.0, '脂肪': 0.2, '碳水化合物': 8.8}, '火腿肠': {'蛋白质': 14.0, '脂肪': 10.4, '碳水化合物': 15.6}, '土豆': {'蛋白质': 2.6, '脂肪': 0.2, '碳水化合物': 17.8}, '芹菜': {'蛋白质': 0.4, '脂肪': 0.2, '碳水化合物': 3.1}, '韭菜': {'蛋白质': 2.4, '脂肪': 0.4, '碳水化合物': 4.5}, '菠菜': {'蛋白质': 2.6, '脂肪': 0.3, '碳水化合物': 4.5}, '芝麻油': {'蛋白质': 0.0, '脂肪': 99.7, '碳水化合物': 0.2}, '海带': {'蛋白质': 1.1, '脂肪': 0.1, '碳水化合物': 3.0}, '豆腐': {'蛋白质': 6.6, '脂肪': 5.3, '碳水化合物': 3.4}, '干豆腐': {'蛋白质': 24.5, '脂肪': 16.0, '碳水化合物': 5.5}, 
 '木耳': {'蛋白质': 1.5, '脂肪': 0.2, '碳水化合物': 6.0}, '花生米': {'蛋白质': 24.8, '脂肪': 44.3, '碳水化合物': 21.7}, '苹果': {'蛋白质': 0.4, '脂肪': 0.2, '碳水化合物': 13.7}, '橙': {'蛋白质': 0.8, '脂肪': 0.2, '碳水化合物': 11.1}, '葡萄': {'蛋白质': 0.4, '脂肪': 0.3, '碳水化合物': 10.3}, '荞麦面': {'蛋白质': 11.3, '脂肪': 2.8, '碳水化合物': 70.2}, '洋葱': {'蛋白质': 1.1, '脂肪': 0.2, '碳水化合物': 9.0}, '西红柿': {'蛋白质': 0.9, '脂肪': 0.2, '碳水化合物': 3.3}, '紫菜': {'蛋白质': 26.7, '脂肪': 1.1, '碳水化合物': 44.1}, '萝卜': {'蛋白质': 0.7, '脂肪': 0.1, '碳水化合物': 4.0}, '粉条': {'蛋白质': 2.7, '脂肪': 0.2, '碳水化合物': 80.9}, '鱼丸': {'蛋白质': 11.1, '脂肪': 1.3, '碳水化合物': 12.7}, '明太鱼': {'蛋白质': 20.4, '脂肪': 0.5, '碳水化合物': 0.5}, '香菇': {'蛋白质': 2.2, '脂肪': 0.3, '碳水化合物': 5.2}, '卷心菜': {'蛋白质': 1.5, '脂肪': 0.2, '碳水化合物': 4.6}, 
 '青椒': {'蛋白质': 0.8, '脂肪': 0.3, '碳水化合物': 5.2}, '豆芽': {'蛋白质': 1.7, '脂肪': 0.1, '碳水化合物': 2.6}, '黄瓜': {'蛋白质': 0.8, '脂肪': 0.2, '碳水化合物': 2.9}, '茄子': {'蛋白质': 1.1, '脂肪': 0.2, '碳水化合物': 4.9}, 
 '扁豆': {'蛋白质': 2.3, '脂肪': 0.2, '碳水化合物': 7.4}, '蒜台': {'蛋白质': 2.1, '脂肪': 0.4, '碳水化合物': 8.0}, '杏鲍菇': {'蛋白质': 1.3, '脂肪': 0.1, '碳水化合物': 8.3}, '酸菜': {'蛋白质': 0.7, '脂肪': 0.2, '碳水化合物': 2.6}, '五花猪肉': {'蛋白质': 13.6, '脂肪': 30.6, '碳水化合物': 2.2}, '猪排骨': {'蛋白质': 18.3, '脂肪': 20.4, '碳水化合物': 1.7}, '炸鸡块': {'蛋白质': 20.3, '脂肪': 17.3, '碳水化合物': 10.5}, '茄汁沙丁鱼': {'蛋白质': 13.8, '脂肪': 9.8, '碳水化合物': 3.0}, '黄花鱼': {'蛋白质': 17.0, '脂肪': 5.1, '碳水化合物': 0.0}, '带鱼': {'蛋白质': 17.7, '脂肪': 4.9, '碳水化合物': 3.1}, '西瓜': {'蛋白质': 0.5, '脂肪': 0.3, '碳水化合物': 6.8}, '香蕉': {'蛋白质': 1.4, '脂肪': 0.2, '碳水化合物': 22.0}, '蜜瓜': {'蛋白质': 0.4, '脂肪': 0.0, '碳水化合物': 4.0}, '玉米面': {'蛋白质': 8.5, '脂肪': 1.5, '碳水化合物': 78.4}, '柚子': {'蛋白质': 0.8, '脂肪': 0.2, '碳水化合物': 9.5}}



recipe = {
    '早餐': {
        '黄豆': (10, 1),
        '小麦粉': (50, 1),
        '鸡肉': (40, 1),
        '豆油': (5, 1),
    },
    '午餐': {
        '小麦粉': (25, 1),
        '鸡蛋': (20, 1),
        '火腿肠': (20, 1),
        '豆油': (5, 1),
        '小麦粉': (50, 1),
        '猪肉': (20, 1),
        '白菜': (40, 1),
        '豆油': (10, 1),
        '葡萄': (100, 1),
    },
    '晚餐': {
        '稻米': (25 * 2, 2),
        '油菜': (100, 0.5),
        '香菇': (20, 0.5),
        '豆油': (5, 0.5),
        '蒜台': (100, 0.5),
        '猪肉': (30, 0.5),
        '豆油': (5, 0.5),
        '茄汁沙丁鱼': (100, 0.5),
        '苹果': (100, 1),
    },
}


total_energy = 0
energy_from_protein = 0
energy_from_fat = 0
energy_from_carbs = 0

energy_breakfast = 0
energy_lunch = 0
energy_dinner = 0

for meal, foods in recipe.items():
    meal_energy = 0
    for food, (amount, servings) in foods.items():
        total_amount = amount * servings
        for nutrient, content_per_100g in nutrient_content_per_100g[food].items():
            nutrient_total = (content_per_100g / 100) * total_amount

            if nutrient == '蛋白质':
                energy_from_protein += nutrient_total * 4  # 蛋白质能量系数
            elif nutrient == '脂肪':
                energy_from_fat += nutrient_total * 9  # 脂肪能量系数
            elif nutrient == '碳水化合物':
                energy_from_carbs += nutrient_total * 4  # 碳水化合物能量系数

            meal_energy += nutrient_total * (4 if nutrient in ['蛋白质', '碳水化合物'] else 9)

    if meal == '早餐':
        energy_breakfast = meal_energy
    elif meal == '午餐':
        energy_lunch = meal_energy
    elif meal == '晚餐':
        energy_dinner = meal_energy

total_energy = energy_from_protein + energy_from_fat + energy_from_carbs


print(f"蛋白质总摄入量: {energy_from_protein / 4:.2f}克")
print(f"脂肪总摄入量: {energy_from_fat / 9:.2f}克")
print(f"碳水化合物总摄入量: {energy_from_carbs / 4:.2f}克")


print(f"蛋白质占总能量百分比: {((energy_from_protein / total_energy) * 100):.2f}%")
print(f"脂肪占总能量百分比: {((energy_from_fat / total_energy) * 100):.2f}%")
print(f"碳水化合物占总能量百分比: {((energy_from_carbs / total_energy) * 100):.2f}%")


ideal_protein_percent = 12.5
ideal_fat_percent = 25
ideal_carbs_percent = 62.5


print(f"蛋白质占比与理想差距: {((energy_from_protein / total_energy) * 100) - ideal_protein_percent:.2f}%")
print(f"脂肪占比与理想差距: {((energy_from_fat / total_energy) * 100) - ideal_fat_percent:.2f}%")
print(f"碳水化合物占比与理想差距: {((energy_from_carbs / total_energy) * 100) - ideal_carbs_percent:.2f}%")


total_meal_energy = energy_breakfast + energy_lunch + energy_dinner
print(f"早餐餐次比: {((energy_breakfast / total_meal_energy) * 100):.2f}%")
print(f"午餐餐次比: {((energy_lunch / total_meal_energy) * 100):.2f}%")
print(f"晚餐餐次比: {((energy_dinner / total_meal_energy) * 100):.2f}%")


ideal_breakfast_percent = 30
ideal_lunch_percent = 35
ideal_dinner_percent = 35


print(f"早餐餐次比与理想差距: {((energy_breakfast / total_meal_energy) * 100) - ideal_breakfast_percent:.2f}%")
print(f"午餐餐次比与理想差距: {((energy_lunch / total_meal_energy) * 100) - ideal_lunch_percent:.2f}%")
print(f"晚餐餐次比与理想差距: {((energy_dinner / total_meal_energy) * 100) - ideal_dinner_percent:.2f}%")

import matplotlib.pyplot as plt


ideal_protein_percent = 12.5
ideal_fat_percent = 25
ideal_carbs_percent = 62.5


protein_percent = (energy_from_protein / total_energy) * 100
fat_percent = (energy_from_fat / total_energy) * 100
carbs_percent = (energy_from_carbs / total_energy) * 100


plt.figure(figsize=(10, 6))
categories = ['Protein', 'Fat', 'Carbohydrates']
values = [protein_percent, fat_percent, carbs_percent]
ideal_values = [ideal_protein_percent, ideal_fat_percent, ideal_carbs_percent]

plt.bar(categories, values, color=['blue', 'green', 'orange'], label='Actual')
plt.plot(categories, ideal_values, color='red', linestyle='--', linewidth=2, label='Ideal')

plt.title('Energy Nutrient Proportion')
plt.xlabel('Nutrient')
plt.ylabel('Percentage')
plt.legend()
plt.ylim(0, 100)
plt.show()


ideal_breakfast_percent = 30
ideal_lunch_percent = 35
ideal_dinner_percent = 35

total_meal_energy = energy_breakfast + energy_lunch + energy_dinner
breakfast_percent = (energy_breakfast / total_meal_energy) * 100
lunch_percent = (energy_lunch / total_meal_energy) * 100
dinner_percent = (energy_dinner / total_meal_energy) * 100

plt.figure(figsize=(8, 8))
labels = ['Breakfast', 'Lunch', 'Dinner']
sizes = [breakfast_percent, lunch_percent, dinner_percent]
ideal_sizes = [ideal_breakfast_percent, ideal_lunch_percent, ideal_dinner_percent]

plt.pie(sizes, labels=labels, autopct='%1.1f%%', startangle=140)
plt.title('Meal Proportion')
plt.legend(loc='lower right')
plt.show()
